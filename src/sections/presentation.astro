---
interface Props {
    idName: string;
    idAnimation: string;
    h2Title: string;
	h3Title: string;
    buttonText: string;
}

const { idName, idAnimation, h2Title, h3Title, buttonText } = Astro.props;
---

<section class="grosse-carte" id={idName}>
    <div class="section-container">
        <div class="svg-container">
            <svg class="" id={idAnimation} viewBox="0 0 160 160" x="0px" y="0px" style="enable-background:new 0 0 160 160;">
                <path d="M10.3,39.9c-18.2,24.9-9.2,62.5,4,87.4c8.2,15.4,23,36.1,48.6,32.2c5.8-0.9,11.1-3.2,16.9-4.3c17.8-3.4,37.9,4.7,54.5-1.5
            c6.6-2.5,11.6-6.9,15.5-11.8c12.2-15.3,13.7-35.6,3.8-51.9c-6.9-11.5-19-20.9-23.6-33.1c-4.5-11.9-1.4-24.9-4.7-37.1
            C121.1,5,103.7-5.6,85.7,3.1c-6.8,3.3-12.6,7.7-20,10.2C58,15.9,49.5,16.6,41.6,19C26.8,23.6,16.7,31,10.3,39.9z"></path>
            </svg>
        </div>
        <div class="section-content">
            <div class="photo-container">
            </div>
            <div class="text-container">
                <h2 class="">{h2Title}</h2>
                <h3>{h3Title}</h3>
                <p>Assistante sociale de formation, cela fait 17 ans que j’accompagne des adultes, des familles et des enfants en difficulté.</p>
                <p>Parce que pour moi, il est important de s’épanouir  au travail,  j’ai choisi de continuer à exercer dans l’accompagnement  mais avec une approche différente, davantage centrée sur vous.  </p>
                <p>J’ai à cœur de vous aider par l’hypnose à reprendre le contrôle sur tout ce qui peut vous empêcher de vivre sereinement votre vie.</p>
                <form action="./qui-suis-je.html" method="get">
                    <button class="btn">
                        {buttonText}
                    </button>
                </form>
            </div>
        </div>
    </div>
</section>

<script>
    const appear = document.querySelector('#animated1'); 
    const appear2 = document.querySelector('#animated2'); 
    const appearForm = document.querySelector('#animatedForm'); 

    const fadeinleft = function(entries){
        entries.forEach(entry => {
            if(entry.isIntersecting){
            entry.target.classList.add('fadeinleft');
            }else{
            entry.target.classList.remove('fadeinleft');
            }
        });
    }

    const fadeinform = function(entries){
        entries.forEach(entry => {
        if(entry.isIntersecting){
            entry.target.classList.add('fadeinform');
        }else{
            entry.target.classList.remove('fadeinform');
        }
        });
    }

    const io = new IntersectionObserver(fadeinleft);
    const io2 = new IntersectionObserver(fadeinform);
    io.observe(appear);
    io.observe(appear2);
    io2.observe(appearForm);
</script>

<style lang="scss">
    .grosse-carte {

        margin: 0;

        @media screen and (max-width: 45rem) {
            margin: 25rem 5rem 0;
        }

        svg {
            position: relative;
            height: 40rem;
            margin-top:-25rem;
            bottom:-25rem;
            left:-3rem;
            z-index:-50;
            
            @media screen and (max-width: 45rem) {
                //height:40rem;
                left:-3rem;
                bottom: -30rem;
                margin-top: -45rem;
            }
        }

        .section-content {
            display:flex;
            flex-direction: row;
            margin: 0 3rem;
            //flex: 1 1 auto;
            //flex-wrap: wrap;
            @media screen and (max-width: 55rem) {
                flex-direction: column;
                margin: 0;
            }



            .text-container {
                display:flex;
                flex-direction: column;
                max-width: 50%;
                width: min(50rem, 80%);
                align-items: center;
                text-align: justify;
                padding: 0 3rem;

                @media screen and (max-width: 76.8rem) {
                    width:90%;
                    margin: 5rem auto;
                    padding: 0;

                }

                @media screen and (max-width: 55rem) {
                    max-width: 100%;
                }

                h2 {
                    line-height: 1.2;
                    font-weight: 700;
                    text-align: center;
                    margin-bottom: 3rem;
                }
                h3 {
                    text-align: center;
                }
                p {
                    color:#999;
                    margin:2rem 0;
                    text-overflow: clip;
                }
                button {
                    margin:3rem
                }
                img {
                    display: block;
                    width:min(21rem,10vw);
                    position: relative;
                    right:-8vw;
                }
            }
        }


        &#vers-outil {
            h2 {
                font-size: clamp(2.5rem, 3.5vw, 4rem);
            }
            h3 {
                font-size: clamp(2rem, 2.5vw, 3rem);
            }
            p {
                display:none;
            }
            .photo-container {
                background-image: linear-gradient(0deg,rgba(0,0,0,.25),rgba(0,0,0,.25)),url("../ressources/images/mon_outil_photo.webp");
                width:45rem;
                height: 55rem;
                background-repeat: no-repeat;
                background-size: cover;
                background-position: 50% 50%;
                border-radius:50%;
                @media screen and (max-width: 76.8rem) {
                    border-radius:999rem;
                    width:90%;
                    margin:0 auto;
                }
            }
            svg {
                fill:var(--indian-red);
            }
            img {
                @media screen and (max-width: 76.8rem) {
                    display:none;
                }
            }
        }

        &#pitch {
            .photo-container {
                background-image: url("../ressources/images/CA9A9730.webp");
                width:45rem;
                height: 55rem;
                background-repeat: no-repeat;
                background-size: cover;
                background-position: 50% 100%;
                border-radius: 50%;

                @media screen and (max-width: 76.8rem) {
                    width:55rem;
                    margin:0 auto;
                }
                @media screen and (max-width: 45rem) {
                    width: 70vw;
                    height: 70vw;
                }
            }
            svg {
                fill:var(--cambridge-blue);
            }
            p {
                color:var(--p-color);
            }
        }
        }
</style>